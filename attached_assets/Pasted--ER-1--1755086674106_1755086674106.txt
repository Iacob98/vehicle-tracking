–û—Ç–ª–∏—á–Ω–æ! –î–∞–≤–∞–π —è –æ–ø–∏—à—É **–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (ER-–¥–∏–∞–≥—Ä–∞–º–º—É) –¥–ª—è —Ç–≤–æ–µ–π —Å–∏—Å—Ç–µ–º—ã**, –≥–¥–µ —É—á—Ç—ë–º:

1. –ê–≤—Ç–æ–ø–∞—Ä–∫
2. –ë—Ä–∏–≥–∞–¥—ã
3. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
4. –ó–∞–∫—Ä–µ–ø–ª–µ–Ω–∏—è –º–∞—à–∏–Ω
5. –®—Ç—Ä–∞—Ñ—ã
6. –¢–û/–†–µ–º–æ–Ω—Ç
7. –ú–∞—Ç–µ—Ä–∏–∞–ª—ã/–û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ
8. –†–∞—Å—Ö–æ–¥—ã (–ø–æ –º–∞—à–∏–Ω–µ –∏ –±—Ä–∏–≥–∞–¥–µ)
9. –ò—Å—Ç–æ—Ä–∏—è –¥–µ–π—Å—Ç–≤–∏–π

---

# üìä ER-–¥–∏–∞–≥—Ä–∞–º–º–∞ (–æ–ø–∏—Å–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü –∏ —Å–≤—è–∑–µ–π)

---

## üöó –¢–∞–±–ª–∏—Ü–∞: Vehicles (–ê–≤—Ç–æ–º–æ–±–∏–ª–∏)

| –ü–æ–ª–µ           | –¢–∏–ø       | –û–ø–∏—Å–∞–Ω–∏–µ                      |
| -------------- | --------- | ----------------------------- |
| id             | UUID      | Primary Key                   |
| name           | TEXT      | –ù–∞–∑–≤–∞–Ω–∏–µ                      |
| license\_plate | TEXT      | –ù–æ–º–µ—Ä–Ω–æ–π –∑–Ω–∞–∫                 |
| vin            | TEXT      | VIN                           |
| status         | ENUM      | active / repair / unavailable |
| created\_at    | TIMESTAMP | –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è                 |

---

## üë• –¢–∞–±–ª–∏—Ü–∞: Teams (–ë—Ä–∏–≥–∞–¥—ã)

| –ü–æ–ª–µ        | –¢–∏–ø       | –û–ø–∏—Å–∞–Ω–∏–µ                    |
| ----------- | --------- | --------------------------- |
| id          | UUID      | Primary Key                 |
| name        | TEXT      | –ù–∞–∑–≤–∞–Ω–∏–µ –±—Ä–∏–≥–∞–¥—ã            |
| lead\_id    | UUID      | FK –Ω–∞ Users (–ª–∏–¥–µ—Ä –±—Ä–∏–≥–∞–¥—ã) |
| created\_at | TIMESTAMP | –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è               |

---

## üßë –¢–∞–±–ª–∏—Ü–∞: Users (–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏)

| –ü–æ–ª–µ     | –¢–∏–ø  | –û–ø–∏—Å–∞–Ω–∏–µ                     |
| -------- | ---- | ---------------------------- |
| id       | UUID | Primary Key                  |
| name     | TEXT | –ò–º—è                          |
| phone    | TEXT | –¢–µ–ª–µ—Ñ–æ–Ω                      |
| role     | ENUM | admin / manager / team\_lead |
| team\_id | UUID | FK –Ω–∞ Teams                  |

---

## üîó –¢–∞–±–ª–∏—Ü–∞: VehicleAssignments (–ó–∞–∫—Ä–µ–ø–ª–µ–Ω–∏—è –º–∞—à–∏–Ω –∑–∞ –±—Ä–∏–≥–∞–¥–æ–π)

| –ü–æ–ª–µ        | –¢–∏–ø  | –û–ø–∏—Å–∞–Ω–∏–µ           |
| ----------- | ---- | ------------------ |
| id          | UUID | Primary Key        |
| vehicle\_id | UUID | FK –Ω–∞ Vehicles     |
| team\_id    | UUID | FK –Ω–∞ Teams        |
| start\_date | DATE | –ù–∞—á–∞–ª–æ –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–∏—è |
| end\_date   | DATE | –ö–æ–Ω–µ—Ü –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–∏—è  |

---

## üöß –¢–∞–±–ª–∏—Ü–∞: Penalties (–®—Ç—Ä–∞—Ñ—ã)

| –ü–æ–ª–µ        | –¢–∏–ø     | –û–ø–∏—Å–∞–Ω–∏–µ                 |
| ----------- | ------- | ------------------------ |
| id          | UUID    | Primary Key              |
| vehicle\_id | UUID    | FK –Ω–∞ Vehicles           |
| user\_id    | UUID    | FK –Ω–∞ Users              |
| date        | DATE    | –î–∞—Ç–∞ —à—Ç—Ä–∞—Ñ–∞              |
| amount      | DECIMAL | –°—É–º–º–∞ —à—Ç—Ä–∞—Ñ–∞             |
| photo\_url  | TEXT    | –°—Å—ã–ª–∫–∞ –Ω–∞ —Ñ–æ—Ç–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞ |
| status      | ENUM    | open / paid              |

---

## üõ†Ô∏è –¢–∞–±–ª–∏—Ü–∞: Maintenances (–¢–û –∏ —Ä–µ–º–æ–Ω—Ç—ã)

| –ü–æ–ª–µ         | –¢–∏–ø  | –û–ø–∏—Å–∞–Ω–∏–µ            |
| ------------ | ---- | ------------------- |
| id           | UUID | Primary Key         |
| vehicle\_id  | UUID | FK –Ω–∞ Vehicles      |
| date         | DATE | –î–∞—Ç–∞                |
| type         | ENUM | inspection / repair |
| description  | TEXT | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π         |
| receipt\_url | TEXT | –ß–µ–∫                 |

---

## üì¶ –¢–∞–±–ª–∏—Ü–∞: Materials (–ú–∞—Ç–µ—Ä–∏–∞–ª—ã –∏ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ)

| –ü–æ–ª–µ        | –¢–∏–ø  | –û–ø–∏—Å–∞–Ω–∏–µ             |
| ----------- | ---- | -------------------- |
| id          | UUID | Primary Key          |
| name        | TEXT | –ù–∞–∑–≤–∞–Ω–∏–µ             |
| type        | ENUM | material / equipment |
| description | TEXT | –û–ø–∏—Å–∞–Ω–∏–µ             |

---

## üîó –¢–∞–±–ª–∏—Ü–∞: MaterialAssignments (–í—ã–¥–∞—á–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –±—Ä–∏–≥–∞–¥–µ)

| –ü–æ–ª–µ         | –¢–∏–ø     | –û–ø–∏—Å–∞–Ω–∏–µ                     |
| ------------ | ------- | ---------------------------- |
| id           | UUID    | Primary Key                  |
| material\_id | UUID    | FK –Ω–∞ Materials              |
| team\_id     | UUID    | FK –Ω–∞ Teams                  |
| quantity     | INTEGER | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ                   |
| start\_date  | DATE    | –î–∞—Ç–∞ –≤—ã–¥–∞—á–∏                  |
| end\_date    | DATE    | –î–∞—Ç–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞ (–µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω–∞) |
| status       | ENUM    | active / returned / broken   |

---

## üßæ –¢–∞–±–ª–∏—Ü–∞: Expenses (–†–∞—Å—Ö–æ–¥—ã)

| –ü–æ–ª–µ         | –¢–∏–ø     | –û–ø–∏—Å–∞–Ω–∏–µ                           |
| ------------ | ------- | ---------------------------------- |
| id           | UUID    | Primary Key                        |
| type         | ENUM    | vehicle / team                     |
| vehicle\_id  | UUID    | FK –Ω–∞ Vehicles (–µ—Å–ª–∏ type=vehicle) |
| team\_id     | UUID    | FK –Ω–∞ Teams (–µ—Å–ª–∏ type=team)       |
| date         | DATE    | –î–∞—Ç–∞ —Ä–∞—Å—Ö–æ–¥–∞                       |
| amount       | DECIMAL | –°—É–º–º–∞                              |
| description  | TEXT    | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π                        |
| receipt\_url | TEXT    | –ß–µ–∫                                |

---

## üìú –¢–∞–±–ª–∏—Ü–∞: MaterialHistory (–ò—Å—Ç–æ—Ä–∏—è –ø–æ –º–∞—Ç–µ—Ä–∏–∞–ª—É)

| –ü–æ–ª–µ         | –¢–∏–ø  | –û–ø–∏—Å–∞–Ω–∏–µ                     |
| ------------ | ---- | ---------------------------- |
| id           | UUID | Primary Key                  |
| material\_id | UUID | FK –Ω–∞ Materials              |
| team\_id     | UUID | FK –Ω–∞ Teams                  |
| date         | DATE | –î–∞—Ç–∞ —Å–æ–±—ã—Ç–∏—è                 |
| event        | ENUM | assigned / returned / broken |
| description  | TEXT | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π                  |

---

## üîÑ –í–∑–∞–∏–º–æ—Å–≤—è–∑–∏:

* **Vehicles** ‚Üê‚Üí **VehicleAssignments** ‚Üê‚Üí **Teams**
* **Users** ‚Üí **Teams**
* **Vehicles** ‚Üê‚Üí **Penalties** ‚Üê‚Üí **Users**
* **Vehicles** ‚Üí **Maintenances**
* **Teams** ‚Üê‚Üí **MaterialAssignments** ‚Üê‚Üí **Materials**
* **Expenses** ‚Üí (–ø–æ —Å–≤—è–∑–∏ type) ‚Üí Vehicles –∏–ª–∏ Teams
* **Materials** ‚Üê‚Üí **MaterialHistory**

---

–•–æ—á–µ—à—å, —á—Ç–æ–±—ã —è —Ç–µ–ø–µ—Ä—å —Å–¥–µ–ª–∞–ª **SQL-—Å—Ç—Ä—É–∫—Ç—É—Ä—É —Å –≥–æ—Ç–æ–≤—ã–º–∏ CREATE TABLE –∑–∞–ø—Ä–æ—Å–∞–º–∏ –¥–ª—è PostgreSQL?** üî•
