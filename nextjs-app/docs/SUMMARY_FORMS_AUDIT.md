# üìä –ö—Ä–∞—Ç–∫–∞—è —Å–≤–æ–¥–∫–∞: –ê—É–¥–∏—Ç —Ñ–æ—Ä–º vs –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

**–î–∞—Ç–∞:** 10 –æ–∫—Ç—è–±—Ä—è 2025

---

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

–ü—Ä–æ–≤–µ–¥–µ–Ω **–ø–æ–ª–Ω—ã–π –∞—É–¥–∏—Ç –≤—Å–µ—Ö 6 —Ñ–æ—Ä–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è** –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.

–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:
- ‚úÖ Zod schemas –≤ `lib/schemas/*.schema.ts`
- ‚úÖ –§–æ—Ä–º—ã –≤ `app/dashboard/*/Form.tsx`
- ‚úÖ API routes –≤ `app/api/*/route.ts`
- ‚úÖ –†–µ–∞–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–î –∏–∑ `information_schema`

---

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

**–í—Å–µ–≥–æ —Ñ–æ—Ä–º:** 6
- **‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö:** 3 (50%)
  - vehicles
  - penalties
  - expenses

- **‚ùå –° –ø—Ä–æ–±–ª–µ–º–∞–º–∏:** 3 (50%)
  - car_expenses
  - teams
  - users

---

## üî¥ –ö–†–ò–¢–ò–ß–ù–ê–Ø –ü–†–û–ë–õ–ï–ú–ê

### users API - –ù–ï –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç role!

**–§–∞–π–ª:** `app/api/users/route.ts`

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –§–æ—Ä–º–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ–ª–µ `role`
- API –ø–æ–ª—É—á–∞–µ—Ç `role` –∏–∑ —Ñ–æ—Ä–º—ã
- –ù–æ API **–ù–ï –í–°–¢–ê–í–õ–Ø–ï–¢** `role` –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö!
- –†–µ–∑—É–ª—å—Ç–∞—Ç: **–í—Å–µ –Ω–æ–≤—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –ë–ï–ó —Ä–æ–ª–µ–π**

**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è:**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ –º–æ–≥—É—Ç –≤–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É
- –ü—Ä–æ–±–ª–µ–º—ã —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π
- –ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ—É–Ω–∫—Ü–∏—è–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**–ö–∞–∫ –∏—Å–ø—Ä–∞–≤–∏—Ç—å:**
```typescript
// –í app/api/users/route.ts, —Å—Ç—Ä–æ–∫–∞ ~50
const userData = {
  organization_id: orgId,
  email: body.email,
  password_hash: passwordHash,
  first_name: body.first_name,
  last_name: body.last_name,
  phone: body.phone || null,
  role: body.role,  // ‚Üê –î–û–ë–ê–í–ò–¢–¨ –≠–¢–£ –°–¢–†–û–ö–£!
};
```

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ **–ö–†–ò–¢–ò–ß–ù–û - –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ù–ï–ú–ï–î–õ–ï–ù–ù–û!**

---

## üü† –í—ã—Å–æ–∫–æ–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. car_expenses - –ø–æ–ª–µ `mileage`

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–æ–ª–µ `mileage` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —Ñ–æ—Ä–º–µ, –Ω–æ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ –ë–î

**–§–∞–π–ª—ã:**
- `lib/schemas/car-expenses.schema.ts`
- `app/dashboard/car-expenses/new/CarExpenseForm.tsx`
- `app/api/car-expenses/route.ts`

**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è:** –û—à–∏–±–∫–∞ –ë–î –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ —Å–æ–∑–¥–∞—Ç—å car_expense —Å –ø—Ä–æ–±–µ–≥–æ–º

**–†–µ—à–µ–Ω–∏–µ:** –£–¥–∞–ª–∏—Ç—å –≤—Å–µ —É–ø–æ–º–∏–Ω–∞–Ω–∏—è `mileage` –∏–∑ –∫–æ–¥–∞

---

### 2. teams - –ø–æ–ª–µ `description`

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–æ–ª–µ `description` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —Ñ–æ—Ä–º–µ, –Ω–æ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ –ë–î

**–§–∞–π–ª—ã:**
- `lib/schemas/teams.schema.ts`
- `app/dashboard/teams/new/TeamForm.tsx`
- `app/api/teams/route.ts`

**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è:** –û—à–∏–±–∫–∞ –ë–î –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ —Å–æ–∑–¥–∞—Ç—å –∫–æ–º–∞–Ω–¥—É —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º

**–†–µ—à–µ–Ω–∏–µ:** –£–¥–∞–ª–∏—Ç—å –≤—Å–µ —É–ø–æ–º–∏–Ω–∞–Ω–∏—è `description` –∏–∑ –∫–æ–¥–∞

---

### 3. users - –ø–æ–ª–µ `position`

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–æ–ª–µ `position` (–¥–æ–ª–∂–Ω–æ—Å—Ç—å) –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —Ñ–æ—Ä–º–µ, –Ω–æ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ –ë–î

**–§–∞–π–ª—ã:**
- `lib/schemas/users.schema.ts`
- `app/dashboard/users/new/UserForm.tsx`
- `app/api/users/route.ts`

**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è:** –û—à–∏–±–∫–∞ –ë–î –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ —Å–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –¥–æ–ª–∂–Ω–æ—Å—Ç—å—é

**–†–µ—à–µ–Ω–∏–µ:** –£–¥–∞–ª–∏—Ç—å –≤—Å–µ —É–ø–æ–º–∏–Ω–∞–Ω–∏—è `position` –∏–∑ –∫–æ–¥–∞

---

## üü° –°—Ä–µ–¥–Ω–µ–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. teams - –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç `lead_id`

**–ü—Ä–æ–±–ª–µ–º–∞:** –í –ë–î –µ—Å—Ç—å –ø–æ–ª–µ `lead_id` (—Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å –∫–æ–º–∞–Ω–¥—ã), –Ω–æ —Ñ–æ—Ä–º–∞ –Ω–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –µ–≥–æ –Ω–∞–∑–Ω–∞—á–∏—Ç—å

**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è:** –ù–µ–ª—å–∑—è –Ω–∞–∑–Ω–∞—á–∏—Ç—å —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—è –∫–æ–º–∞–Ω–¥—ã –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏

**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å —Å–µ–ª–µ–∫—Ç–æ—Ä —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—è –≤ —Ñ–æ—Ä–º—É

---

### 2. users - –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç `team_id`

**–ü—Ä–æ–±–ª–µ–º–∞:** –í –ë–î –µ—Å—Ç—å –ø–æ–ª–µ `team_id`, –Ω–æ —Ñ–æ—Ä–º–∞ –Ω–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞–∑–Ω–∞—á–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –∫–æ–º–∞–Ω–¥—É

**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è:** –ù–µ–ª—å–∑—è –Ω–∞–∑–Ω–∞—á–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –∫–æ–º–∞–Ω–¥—É –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏

**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å —Å–µ–ª–µ–∫—Ç–æ—Ä –∫–æ–º–∞–Ω–¥—ã –≤ —Ñ–æ—Ä–º—É

---

## üìã –ü–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π

### –®–∞–≥ 1: –ö–†–ò–¢–ò–ß–ù–û (—Å–¥–µ–ª–∞—Ç—å –°–ï–ô–ß–ê–°)
```bash
1. –ò—Å–ø—Ä–∞–≤–∏—Ç—å app/api/users/route.ts - –¥–æ–±–∞–≤–∏—Ç—å role –≤ insert
   –í—Ä–µ–º—è: 5 –º–∏–Ω—É—Ç
```

### –®–∞–≥ 2: –í–´–°–û–ö–ò–ô –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (–Ω–∞ —ç—Ç–æ–π –Ω–µ–¥–µ–ª–µ)
```bash
1. –£–¥–∞–ª–∏—Ç—å mileage –∏–∑ car_expenses (3 —Ñ–∞–π–ª–∞)
2. –£–¥–∞–ª–∏—Ç—å description –∏–∑ teams (3 —Ñ–∞–π–ª–∞)
3. –£–¥–∞–ª–∏—Ç—å position –∏–∑ users (3 —Ñ–∞–π–ª–∞)
   –í—Ä–µ–º—è: 30-60 –º–∏–Ω—É—Ç
```

### –®–∞–≥ 3: –°–†–ï–î–ù–ò–ô –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (–∫–æ–≥–¥–∞ –≤–æ–∑–º–æ–∂–Ω–æ)
```bash
1. –î–æ–±–∞–≤–∏—Ç—å lead_id selector –≤ teams —Ñ–æ—Ä–º—É
2. –î–æ–±–∞–≤–∏—Ç—å team_id selector –≤ users —Ñ–æ—Ä–º—É
   –í—Ä–µ–º—è: 2-4 —á–∞—Å–∞
```

---

## üìÑ –ü–æ–ª–Ω—ã–π –æ—Ç—á–µ—Ç

–î–µ—Ç–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∫–æ–¥–∞ –∏ –ø–æ—Å—Ç—Ä–æ—á–Ω—ã–º–∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏:

**–†—É—Å—Å–∫–∞—è –≤–µ—Ä—Å–∏—è:**
- `docs/FORMS_AUDIT_2025-10-10.md`

**English version:**
- `docs/FORMS_AUDIT_2025-10-10_EN.md`

---

## üöÄ –ß—Ç–æ –¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ?

### –í–∞—Ä–∏–∞–Ω—Ç 1: –•–æ—Ç–∏—Ç–µ, —á—Ç–æ–±—ã —è –∏—Å–ø—Ä–∞–≤–∏–ª –ù–ï–ú–ï–î–õ–ï–ù–ù–û?

–°–∫–∞–∂–∏—Ç–µ "–∏—Å–ø—Ä–∞–≤—å –∫—Ä–∏—Ç–∏—á–Ω–æ–µ" - —è –∏—Å–ø—Ä–∞–≤–ª—é users API –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å (5 –º–∏–Ω—É—Ç)

### –í–∞—Ä–∏–∞–Ω—Ç 2: –•–æ—Ç–∏—Ç–µ, —á—Ç–æ–±—ã —è –∏—Å–ø—Ä–∞–≤–∏–ª –≤—Å—ë?

–°–∫–∞–∂–∏—Ç–µ "–∏—Å–ø—Ä–∞–≤—å –≤—Å–µ –≤—ã—Å–æ–∫–æ–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ" - —è –∏—Å–ø—Ä–∞–≤–ª—é –≤—Å–µ 4 –ø—Ä–æ–±–ª–µ–º—ã (30-60 –º–∏–Ω—É—Ç)

### –í–∞—Ä–∏–∞–Ω—Ç 3: –•–æ—Ç–∏—Ç–µ —Å–∞–º–∏?

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–µ—Ç–∞–ª—å–Ω—ã–µ –æ—Ç—á–µ—Ç—ã –≤ `docs/` - —Ç–∞–º —É–∫–∞–∑–∞–Ω—ã –≤—Å–µ —Ñ–∞–π–ª—ã –∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏ –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

---

**–û—Ç—á–µ—Ç —Å–æ–∑–¥–∞–Ω:** 2025-10-10
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ê—É–¥–∏—Ç –∑–∞–≤–µ—Ä—à–µ–Ω, –ø—Ä–æ–±–ª–µ–º—ã –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω—ã
**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫—Ä–∏—Ç–∏—á–Ω–æ–π –ø—Ä–æ–±–ª–µ–º—ã users API
