<?xml version="1.0" encoding="UTF-8"?>
<svg width="1200" height="800" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .title { font-family: Arial, sans-serif; font-size: 16px; font-weight: bold; }
      .table { fill: #f8f9fa; stroke: #343a40; stroke-width: 2; }
      .header { fill: #007bff; }
      .text { font-family: Arial, sans-serif; font-size: 12px; fill: #343a40; }
      .header-text { font-family: Arial, sans-serif; font-size: 12px; fill: white; font-weight: bold; }
      .relationship { stroke: #dc3545; stroke-width: 2; marker-end: url(#arrow); }
      .key { fill: #ffc107; }
    </style>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#dc3545"/>
    </marker>
  </defs>
  
  <!-- Title -->
  <text x="600" y="30" text-anchor="middle" class="title">Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ñ„Ğ»Ğ¾Ñ‚-Ğ¼ĞµĞ½ĞµĞ´Ğ¶Ğ¼ĞµĞ½Ñ‚Ğ°</text>
  
  <!-- Organizations (Root) -->
  <rect x="500" y="50" width="200" height="80" class="table"/>
  <rect x="500" y="50" width="200" height="25" class="header"/>
  <text x="600" y="68" text-anchor="middle" class="header-text">ORGANIZATIONS</text>
  <text x="510" y="85" class="text">ğŸ”‘ id (UUID)</text>
  <text x="510" y="100" class="text">ğŸ“‹ name</text>
  <text x="510" y="115" class="text">ğŸ“… created_at</text>
  
  <!-- Teams -->
  <rect x="50" y="200" width="200" height="100" class="table"/>
  <rect x="50" y="200" width="200" height="25" class="header"/>
  <text x="150" y="218" text-anchor="middle" class="header-text">TEAMS</text>
  <text x="60" y="235" class="text">ğŸ”‘ id (UUID)</text>
  <text x="60" y="250" class="text">ğŸ“‹ name</text>
  <text x="60" y="265" class="text">ğŸ‘‘ lead_id â†’ users.id</text>
  <text x="60" y="280" class="text">ğŸ¢ organization_id</text>
  <text x="60" y="295" class="text">ğŸ“… created_at</text>
  
  <!-- Users -->
  <rect x="300" y="200" width="200" height="140" class="table"/>
  <rect x="300" y="200" width="200" height="25" class="header"/>
  <text x="400" y="218" text-anchor="middle" class="header-text">USERS</text>
  <text x="310" y="235" class="text">ğŸ”‘ id (UUID)</text>
  <text x="310" y="250" class="text">ğŸ‘¤ first_name, last_name</text>
  <text x="310" y="265" class="text">ğŸ“§ email</text>
  <text x="310" y="280" class="text">ğŸ‘¥ team_id â†’ teams.id</text>
  <text x="310" y="295" class="text">ğŸ­ role (admin/manager/team_lead/worker)</text>
  <text x="310" y="310" class="text">ğŸ¢ organization_id</text>
  <text x="310" y="325" class="text">ğŸ“… created_at</text>
  
  <!-- Vehicles -->
  <rect x="550" y="200" width="200" height="120" class="table"/>
  <rect x="550" y="200" width="200" height="25" class="header"/>
  <text x="650" y="218" text-anchor="middle" class="header-text">VEHICLES</text>
  <text x="560" y="235" class="text">ğŸ”‘ id (UUID)</text>
  <text x="560" y="250" class="text">ğŸš— name, model, year</text>
  <text x="560" y="265" class="text">ğŸ”¢ license_plate, vin</text>
  <text x="560" y="280" class="text">ğŸ“¸ photo_url</text>
  <text x="560" y="295" class="text">ğŸ¢ organization_id</text>
  <text x="560" y="310" class="text">ğŸ“… created_at</text>
  
  <!-- Materials -->
  <rect x="800" y="200" width="200" height="120" class="table"/>
  <rect x="800" y="200" width="200" height="25" class="header"/>
  <text x="900" y="218" text-anchor="middle" class="header-text">MATERIALS</text>
  <text x="810" y="235" class="text">ğŸ”‘ id (UUID)</text>
  <text x="810" y="250" class="text">ğŸ“¦ name, type, unit</text>
  <text x="810" y="265" class="text">ğŸ’° unit_price</text>
  <text x="810" y="280" class="text">ğŸ“Š total_quantity, assigned_quantity</text>
  <text x="810" y="295" class="text">ğŸ¢ organization_id</text>
  <text x="810" y="310" class="text">ğŸ“… created_at</text>
  
  <!-- PENALTIES (Ñ†ĞµĞ½Ñ‚Ñ€Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ğ°) -->
  <rect x="300" y="400" width="250" height="160" class="table"/>
  <rect x="300" y="400" width="250" height="25" class="header"/>
  <text x="425" y="418" text-anchor="middle" class="header-text">PENALTIES â­</text>
  <text x="310" y="435" class="text">ğŸ”‘ id (UUID)</text>
  <text x="310" y="450" class="text">ğŸ’° amount</text>
  <text x="310" y="465" class="text">ğŸ“… date</text>
  <text x="310" y="480" class="text">ğŸ“ description</text>
  <text x="310" y="495" class="text">ğŸ“¸ photo_url</text>
  <text x="310" y="510" class="text">ğŸš— vehicle_id â†’ vehicles.id</text>
  <text x="310" y="525" class="text">ğŸ‘¥ team_id â†’ teams.id</text>
  <text x="310" y="540" class="text">ğŸ‘¤ user_id â†’ users.id</text>
  <text x="310" y="555" class="text">ğŸ¢ organization_id</text>
  
  <!-- Vehicle Assignments -->
  <rect x="600" y="400" width="220" height="140" class="table"/>
  <rect x="600" y="400" width="220" height="25" class="header"/>
  <text x="710" y="418" text-anchor="middle" class="header-text">VEHICLE_ASSIGNMENTS</text>
  <text x="610" y="435" class="text">ğŸ”‘ id (UUID)</text>
  <text x="610" y="450" class="text">ğŸš— vehicle_id â†’ vehicles.id</text>
  <text x="610" y="465" class="text">ğŸ‘¥ team_id â†’ teams.id</text>
  <text x="610" y="480" class="text">ğŸ‘¤ driver_id â†’ users.id</text>
  <text x="610" y="495" class="text">ğŸ“… start_date, end_date</text>
  <text x="610" y="510" class="text">ğŸ¢ organization_id</text>
  <text x="610" y="525" class="text">ğŸ“… created_at</text>
  
  <!-- Material Assignments -->
  <rect x="850" y="400" width="220" height="140" class="table"/>
  <rect x="850" y="400" width="220" height="25" class="header"/>
  <text x="960" y="418" text-anchor="middle" class="header-text">MATERIAL_ASSIGNMENTS</text>
  <text x="860" y="435" class="text">ğŸ”‘ id (UUID)</text>
  <text x="860" y="450" class="text">ğŸ“¦ material_id â†’ materials.id</text>
  <text x="860" y="465" class="text">ğŸ‘¥ team_id â†’ teams.id</text>
  <text x="860" y="480" class="text">ğŸ“Š quantity, event</text>
  <text x="860" y="495" class="text">ğŸ“… date</text>
  <text x="860" y="510" class="text">ğŸ“ notes, status</text>
  <text x="860" y="525" class="text">ğŸ¢ organization_id</text>
  
  <!-- Car Expenses -->
  <rect x="50" y="400" width="200" height="120" class="table"/>
  <rect x="50" y="400" width="200" height="25" class="header"/>
  <text x="150" y="418" text-anchor="middle" class="header-text">CAR_EXPENSES</text>
  <text x="60" y="435" class="text">ğŸ”‘ id (UUID)</text>
  <text x="60" y="450" class="text">ğŸš— vehicle_id â†’ vehicles.id</text>
  <text x="60" y="465" class="text">ğŸ’° amount, category</text>
  <text x="60" y="480" class="text">ğŸ“… date</text>
  <text x="60" y="495" class="text">ğŸ“ description</text>
  <text x="60" y="510" class="text">ğŸ¢ organization_id</text>
  
  <!-- Relationships -->
  <!-- Organization to all tables -->
  <line x1="600" y1="130" x2="150" y2="200" class="relationship"/>
  <line x1="600" y1="130" x2="400" y2="200" class="relationship"/>
  <line x1="600" y1="130" x2="650" y2="200" class="relationship"/>
  <line x1="600" y1="130" x2="900" y2="200" class="relationship"/>
  
  <!-- Teams to Users -->
  <line x1="250" y1="250" x2="300" y2="280" class="relationship"/>
  
  <!-- Users to Penalties -->
  <line x1="400" y1="340" x2="425" y2="400" class="relationship"/>
  
  <!-- Teams to Penalties -->
  <line x1="200" y1="300" x2="350" y2="400" class="relationship"/>
  
  <!-- Vehicles to Penalties -->
  <line x1="620" y1="320" x2="500" y2="400" class="relationship"/>
  
  <!-- Legend -->
  <rect x="50" y="600" width="300" height="160" class="table"/>
  <rect x="50" y="600" width="300" height="25" class="header"/>
  <text x="200" y="618" text-anchor="middle" class="header-text">Ğ›Ğ•Ğ“Ğ•ĞĞ”Ğ</text>
  <text x="60" y="635" class="text">ğŸ”‘ ĞŸĞµÑ€Ğ²Ğ¸Ñ‡Ğ½Ñ‹Ğ¹ ĞºĞ»ÑÑ‡ (Primary Key)</text>
  <text x="60" y="650" class="text">ğŸ‘¥ Ğ¡Ğ²ÑĞ·ÑŒ Ñ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†ĞµĞ¹ (Foreign Key)</text>
  <text x="60" y="665" class="text">â­ Ğ¦ĞµĞ½Ñ‚Ñ€Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ğ° ÑˆÑ‚Ñ€Ğ°Ñ„Ğ¾Ğ²</text>
  <text x="60" y="680" class="text">ğŸ¢ ĞœÑƒĞ»ÑŒÑ‚Ğ¸Ñ‚ĞµĞ½Ğ°Ğ½Ñ‚Ğ½Ğ¾ÑÑ‚ÑŒ (Organization ID)</text>
  <text x="60" y="695" class="text">ğŸ“… Ğ’Ñ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğµ Ğ¼ĞµÑ‚ĞºĞ¸</text>
  <text x="60" y="710" class="text">ğŸ’° Ğ¤Ğ¸Ğ½Ğ°Ğ½ÑĞ¾Ğ²Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ</text>
  <text x="60" y="725" class="text">ğŸ“¸ Ğ¤Ğ°Ğ¹Ğ»Ñ‹ Ğ¸ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ñ‹</text>
  <text x="60" y="740" class="text">ğŸ“ Ğ¢ĞµĞºÑÑ‚Ğ¾Ğ²Ñ‹Ğµ Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ñ</text>
  
  <!-- Problem Areas -->
  <rect x="600" y="600" width="350" height="160" class="table"/>
  <rect x="600" y="600" width="350" height="25" fill="#dc3545"/>
  <text x="775" y="618" text-anchor="middle" class="header-text">ĞŸĞ ĞĞ‘Ğ›Ğ•ĞœĞ« Ğ’ ĞĞĞĞ›Ğ˜Ğ¢Ğ˜ĞšĞ•</text>
  <text x="610" y="635" class="text">âŒ Ğ¨Ñ‚Ñ€Ğ°Ñ„Ñ‹ Ğ¼Ğ¾Ğ³ÑƒÑ‚ Ğ±Ñ‹Ñ‚ÑŒ Ğ±ĞµĞ· team_id</text>
  <text x="610" y="650" class="text">âŒ Description Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ğ±Ñ‹Ñ‚ÑŒ Ğ¿ÑƒÑÑ‚Ñ‹Ğ¼</text>
  <text x="610" y="665" class="text">âŒ Ğ›Ğ¾Ğ³Ğ¸ĞºĞ° "ĞŸĞ¾Ğ»Ğ¾Ğ¼ĞºĞ° Ğ¾Ğ±Ğ¾Ñ€ÑƒĞ´Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ" Ğ½ĞµÑ‚Ğ¾Ñ‡Ğ½Ğ°Ñ</text>
  <text x="610" y="680" class="text">âŒ JOIN Ğ¸ÑĞºĞ»ÑÑ‡Ğ°ĞµÑ‚ ÑˆÑ‚Ñ€Ğ°Ñ„Ñ‹ Ğ±ĞµĞ· ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹</text>
  <text x="610" y="695" class="text">âœ… ĞÑƒĞ¶Ğ½Ğ¾ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ LEFT JOIN</text>
  <text x="610" y="710" class="text">âœ… ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑÑ‚ÑŒ description IS NOT NULL</text>
  <text x="610" y="725" class="text">âœ… Ğ’ÑĞµ ÑˆÑ‚Ñ€Ğ°Ñ„Ñ‹ = traffic violations</text>
  <text x="610" y="740" class="text">âœ… ĞŸĞ¾Ğ»Ğ¾Ğ¼ĞºĞ¸ = Ñ‡ĞµÑ€ĞµĞ· material_assignments</text>
  
</svg>